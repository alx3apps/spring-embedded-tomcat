<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<!-- Use this for default installer only, for real customization you need custom panels -->
<installation version="1.0">
    <info>
        <appname>My Application</appname>
        <appversion>0.42</appversion>
        <appsubpath>myapp</appsubpath>
        <uninstaller path="${INSTALL_PATH}/uninstall"/>
        <!-- http://izpack.org/documentation/installation-files.html#built-in-conditions -->
        <!--<run-privileged condition="izpack.windowsinstall.vista|izpack.macinstall"/>-->
    </info>
    <guiprefs width="640" height="480" resizable="no">
        <laf name="looks">
            <os family="unix"/>
        </laf>
        <laf name="looks">
            <os family="windows"/>
        </laf>
        <modifier key="useHeadingPanel" value="yes"/>
        <modifier key="useHeadingForSummary" value="yes"/>
        <modifier key="headingLineCount" value="2"/>
        <modifier key="headingFontSize" value="1.5"/>
        <modifier key="headingBackgroundColor" value="0x00ffffff"/>
        <modifier key="headingPanelCounter" value="text"/>
        <modifier key="headingPanelCounterPos" value="inHeading"/>
    </guiprefs>
    <locale>
        <!-- http://izpack.org/documentation/installation-files.html#the-localization-element-locale -->
        <langpack iso3="eng"/>
    </locale>

    <panels>
        <panel classname="HelloPanel"/>
        <panel classname="TargetPanel"/>
        <panel classname="PacksPanel"/>
        <panel classname="InstallPanel"/>
        <panel classname="SimpleFinishPanel"/>
    </panels>

    <resources>
        <res id="TargetPanel.dir.windows" src="resources/default-dir-win.txt"/>
    </resources>

    <packs>
        <pack name="Application Necessary Files" required="yes" installGroups="necessary_files">
            <description>Files that are necessary for application to run</description>
            <fileset dir="dist" targetdir="${INSTALL_PATH}"/>
            <file src="resources/make_executable.sh" targetdir="${INSTALL_PATH}/bin">
                <os family="unix"/>
            </file>
            <executale targetfile="${INSTALL_PATH}/bin/make_executable.sh" stage="postinstall" >
                <os family="unix"/>
            </executale>
        </pack>
        <pack name="Windows service wrapper" required="no" preselected="yes" installGroups="windows_service_wrapper">
            <os family="windows"/>
            <description>Application will be installed as windows service</description>
            <executable targetfile="${INSTALL_PATH}/bin/service.bat"
                        stage="postinstall"
                        keep="true">
                <args>
                    <arg value="install"/>
                </args>
            </executable>
            <executable targetfile="${INSTALL_PATH}/bin/service.bat"
                        stage="uninstall"
                        keep="false">
                <args>
                    <arg value="remove"/>
                </args>
            </executable>
        </pack>
    </packs>
</installation>
